(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[963],{6041:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/server_config",function(){return r(3430)}])},3430:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return i}});var t=r(9815),l=r(5893),s=r(1163),u=r(7294),o=r(6501),a=r(1272),c=r(9713);function i(){var e,n=(0,u.useContext)(a.I),r=(0,s.useRouter)(),i=(0,u.useState)(n.server.url),d=i[0],f=i[1],h=(0,u.useState)(n.server.token),p=h[0],x=h[1],m=(0,u.useState)(null!==(e=(0,c.VL)("servers"))&&void 0!==e?e:[]),v=m[0],b=m[1];(0,u.useEffect)((function(){(0,c.h)("servers",v)}),[v]);var k=(0,u.useCallback)((function(e,l,s){if(null===e||void 0===e||e.preventDefault(),l&&s){n.setServer({token:s,url:l});var u=v.find((function(e){return e.url==l}));u?u.token=s:v.push({url:l,token:s}),b((0,t.Z)(v)),r.push("/users")}else o.ZP.error("Please enter valid server config")}),[n,v]),g=(0,u.useCallback)((function(e){b((0,t.Z)(v.filter((function(n){return n.url!=e}))))}),[v,b]),w=(0,u.useCallback)((function(e,n){k(null,e,n)}),[f,x,k]);return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen",children:[(0,l.jsx)("form",{onSubmit:function(e){return k(e,d,p)},children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md px-3 py-3 flex flex-col min-w-[20rem]",children:[(0,l.jsx)("label",{htmlFor:"url",className:"font-bold block",children:"Server Url"}),(0,l.jsx)("input",{value:d,onChange:function(e){return f(e.currentTarget.value)},type:"text",placeholder:"http://",className:"w-full px-2 py-1 ring-1 ring-slate-600 rounded-md",id:"url"}),(0,l.jsx)("label",{htmlFor:"token",className:"font-bold block mt-2",children:"Server Token"}),(0,l.jsx)("input",{value:p,onChange:function(e){return x(e.currentTarget.value)},type:"password",placeholder:"Server Token",className:"w-full px-2 py-1 ring-1 ring-slate-600 rounded-md",id:"token"}),(0,l.jsx)("button",{type:"submit",className:"mt-2 py-1 bg-slate-300 rounded-lg hover:bg-slate-800 hover:text-white",children:"Connect"})]})}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md px-3 py-3 flex flex-col min-w-[20rem] mt-3 text-sm",children:[(0,l.jsx)("span",{className:"font-bold",children:"Recently"}),v.map((function(e){return(0,l.jsxs)("div",{className:"text-sm py-2 px-2 hover:bg-slate-100 rounded-sm cursor-pointer border-b-[1px] flex",children:[(0,l.jsx)("span",{onClick:function(){return w(e.url,e.token)},className:"flex-1",children:e.url}),(0,l.jsx)("span",{onClick:function(){return g(e.url)},className:"block font-bold px-3 hover:bg-red-600 hover:text-white rounded-full",children:"X"})]},e.url)}))]})]})}}},function(e){e.O(0,[774,888,179],(function(){return n=6041,e(e.s=n);var n}));var n=e.O();_N_E=n}]);